---
layout: post
title: MathJax Test
date: 2018-09-10
categories: test
tags: mathjax 
---
  气象数据种类繁多、数据量大，如何能够从海量数据中提取出有用的信息并以图像形式表述出来需要较好的图形表达能力，使图像具有较强说服力。为达到这样的目的，图片需要具有科学性、针对性、美观性等属性（即达到论文发表的要求）。如何达到这些要求？较好的统计思路及手段，得力的绘图工具缺一不可。其中，对于绘图工具而言，气象中有多种常用种类，这里选择NCL实现我们的要求。
NCL全称为NCAR Command Language，是由美国大气研究中心（NCAR）开发的专门用于气象科学资料分析与可视化的一门开源性质的解释型语言，与WRF模式属于同源产品。所以NCL对于WRF模式及输出产品的“支持”力度很大。
NCL支持的数据类型包括NetCDF 3/4，GRIB 1/2, HDF 4/5，HDF-EOS 2/5， shapefile，ASCII，binary以及KML格式。涵盖了气象数据需要处理的全部数据类型甚至数据格式。另外，内建了大量的函数，包括统计函数、插值、EOF分析、波谱分析等，除此之外，还能调用Fortran、C语言程序。可以很方便的产生高质量的图形并且有大量的图形源（resource）可被用于自定义图形。NCL输出分为图形输出和数据文件输出，其中图形输出包括矢量图（eps，ps，pdf等）和位图（png），还可以直接窗口显示（x11）,另外因为NCL开源性质，所以整个功能也在不断的强化跟拓展。大量示例脚本和相应的图形都可在官网学习。
 
（图片来自NCL官网）
官网（http://ncl.ucar.edu/） 
本文档的目的是建立一个针对中尺度分析的绘图库，包括示例脚本及对应数据。数据方面给出一定介绍（数据格式、应用注意及其他），脚本说明文档及脚本尽量做到数据处理正确，脚本简洁（增加说明），语句合理，图片科学、美观。也尽量涵盖NCL画图中的各项功能。为了更好的介绍NCL绘图库脚本及示例，对2015年12号台风 “苏迪罗”以及2013年23号台风“菲特”两个台风分析时使用的数据资料为例整理， 结合台风过程，针对分析要点尽量全面的涵盖中尺度分析中需要涉及到的画图内容，包括实况分析、数值模拟展示，及模拟结果检验等。
实况分析中针对自动站（渔港）、加密自动站、台风路径、大的天气形势（用于提供数值模拟背景场的FNL数据）、卫星反演风场资料、揭示细节的雷达基数据等，从不同观测手段、不同角度分析台风实况。
数值模拟采用WRF-ARW中尺度数值模式，并对模拟区域设置、模拟区域下垫面情况给出显示，并逐步给出WRF主模块模拟结果显示。其中模拟结果显示包括基本量显示，如降水、风场，与实况对比检验；诊断量计算及显示，如散度、涡度、水汽通量等。另外根据分析的重点，给出等高面、等压面二维平面显示或者水平面上剖线的垂直显示，用于揭示系统垂直结构特征，如物理量水平分布或者任意直线剖面上分布情况，帮助我们更好的进行中尺度分析。
除了常规资料（自动站资料、探空等）外，雷达、卫星等非常规资料的应用也作为分析的辅助手段。
假设我们已经选择了一个较好的编辑器（好的编辑器对于编程效率及体验非常重要，在学生实习过程中采用sublime编辑器），另外已经有一定的NCL编程基础，可以快速查看网站：（http://ncl.readthedocs.io/zh_CN/latest/index.html）及官网（http://www.ncl.ucar.edu/）。为了以后方便使用，建议需要调整的参数尽量集中写在脚本前面，并且给出合适的解释，能够用函数解决的一定使用函数（前提是吃透函数），需要注意的是NCL处理循环相对低效，最大限度的避免循环出现。
对于本脚本库的使用说明（使用规则）：
1.	NCL脚本名称
2.	给出脚本使用关键词：关键词主要是对脚本中出现的NCL功能有一个索引，方便查找使用，或者是某个功能的实现，比如这个脚本中实现了世界时北京时转换，或者是使用了什么特定的NCL函数等，可以较好的在关键词中有所体现。
3.	给出脚本说明，这里主要以 “流水账”的形式将脚本处理流程梳理一遍，并且给出需要注意的事项或者一些好的建议。
4.	所有脚本都是在解决实际需求过程中查找官网详细解释得到，脚本运行顺利还是需要尽快了解不熟悉函数、属性的意义。
